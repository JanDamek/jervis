tools:
  # ═══════════════════════════════════════════════════════════════════
  # KNOWLEDGE & MEMORY TOOLS
  # ═══════════════════════════════════════════════════════════════════

  KNOWLEDGE_STORE_TOOL:
    plannerDescription: "Store knowledge as RULE or MEMORY"
    description: "Store insights, rules, or context. Auto-detects RULE (normative constraint - requires user approval via UserTask) or MEMORY (contextual fact - stored directly). Provide plain text describing knowledge to store. Parameters: plainTextDescription"

  KNOWLEDGE_SEARCH_TOOL:
    plannerDescription: "Search knowledge base (semantic embeddings)"
    description: "Search embeddings across all indexed content. Automatically searches in parallel. Parameters: query (string), filters (optional: sourceType, dateRange, keywords)"

  SOURCE_FETCH_ORIGINAL_TOOL:
    plannerDescription: "Fetch complete original content (email, attachment, file)"
    description: "Fetch complete original content. Use ONLY when RAG chunks insufficient. Supports: email://accountId/messageId, email://accountId/messageId/attachment/N, file://path. Most content already in RAG - use sparingly. Parameters: uri (reference string)"

  # ═══════════════════════════════════════════════════════════════════
  # COMMUNICATION TOOLS
  # ═══════════════════════════════════════════════════════════════════

  COMMUNICATION_USER_DIALOG_TOOL:
    plannerDescription: "Ask user a question and wait for input"
    description: "Emit ASK payload to UI to obtain user input/approval. NO LLM processing. Use for: confirm deployment, provide suggested reply for user edit, ask missing parameters. Parameters: question (text shown), proposedAnswer (optional pre-fill). Runtime: WebSocket to all devices, only one can answer, closes all on response. FORBIDDEN in backgroundMode - create user task instead with correlationId"

  COMMUNICATION_EMAIL_TOOL:
    plannerDescription: "Send emails to teams/stakeholders"
    description: "Send emails. Use for: notify teams, send reports/alerts, stakeholder communication. Parameters: to (required), cc/bcc (optional), subject, body, priority"

  COMMUNICATION_TEAMS_TOOL:
    plannerDescription: "Send Microsoft Teams messages to channels/users"
    description: "Send Microsoft Teams messages. Use for: team updates, alerts, collaboration. Supports mentions, threads, priority. Parameters: action='send_message', target_type (channel|user|chat), target, message, thread_id (optional), mentions (optional), priority (optional)"

  COMMUNICATION_SLACK_TOOL:
    plannerDescription: "Send Slack messages to channels/users"
    description: "Send Slack messages. Use for: updates, alerts, team notifications. Supports mentions, threads, blocks. Parameters: action='send_message', target_type (channel|user|dm), target, message, thread_ts (optional), mentions (optional), blocks (optional)"

  # ═══════════════════════════════════════════════════════════════════
  # GRAPH & AGENTS
  # ═══════════════════════════════════════════════════════════════════

  KOOG_AGENT_TOOL:
    plannerDescription: "Plan-and-route Koog agent (produces deterministic plan of tool calls)"
    description: "Plan the next concrete tool calls for a given role and goals. Parameters (JSON): { 'role': 'graph-builder|rag-enricher|triage', 'goals': ['...'], 'context': { 'projectId': '<ObjectId>' } }. Returns JSON with ok, agent, plannedSteps[]."

  # ═══════════════════════════════════════════════════════════════════
  # TASK & REQUIREMENT TOOLS
  # ═══════════════════════════════════════════════════════════════════

  TASK_CREATE_USER_TASK_TOOL:
    plannerDescription: "Create action item for user (reply email, review, decision, meeting)"
    description: "Create user action item (NOT background task). Use when user must: reply email, review document, make decision, attend meeting. Required JSON: { \"title\": \"title\", \"description\": \"details\", \"priority\": \"LOW|MEDIUM|HIGH|URGENT\", \"dueDate\": \"ISO-8601\", \"sourceType\": \"EMAIL|MEETING|AGENT_SUGGESTION|MANUAL\", \"sourceUri\": \"email://accountId/messageId\", \"metadata\": { \"threadId\": \"<hex>\" } }. Metadata threadId enables auto-resolve when conversation answered"

  REQUIREMENT_CREATE_USER_TOOL:
    plannerDescription: "Create user requirement/wish to track"
    description: "Create user requirement/wish to track. Use for: tracking interests ('Find vacation in Spain <500€'), monitoring prices/deals ('Notify about GPU RTX 4090 sales'), watching opportunities. Requirements matched against email/messages. Required JSON: { \"title\": \"title\", \"description\": \"details\", \"keywords\": [\"spain\", \"vacation\"], \"priority\": \"LOW|MEDIUM|HIGH|URGENT\" }"

  REQUIREMENT_QUERY_USER_TOOL:
    plannerDescription: "Query active user requirements by keywords"
    description: "Query active user requirements/wishes. Use in EMAIL_PROCESSING to check if email matches user wants. PARAMETRIC tool (NO LLM). Provide keywords as JSON: { \"keywords\": [\"spain\", \"vacation\", \"gpu\"] }. Returns matching requirements. If empty keywords [], returns all active"

  REQUIREMENT_UPDATE_USER_TOOL:
    plannerDescription: "Update user requirement status"
    description: "Update user requirement status. Mark as COMPLETED (fulfilled), CANCELLED (no longer needed), or ACTIVE (reactivate). Required JSON: { \"requirementId\": \"ObjectId\", \"status\": \"ACTIVE|COMPLETED|CANCELLED\" }"

  # ═══════════════════════════════════════════════════════════════════
  # SCHEDULING & LINK MANAGEMENT TOOLS
  # ═══════════════════════════════════════════════════════════════════

  SYSTEM_SCHEDULE_TASK_TOOL:
    plannerDescription: "Schedule future tasks (emails, calls, reminders, maintenance)"
    description: "Schedule/cancel scheduled tasks (communication, meetings, maintenance, business). Task will be dispatched to agent 10min before scheduled time. Supports natural language times (now, today, tomorrow, in X hours/days) and cron expressions. Parameters: content (full task description), scheduledDateTime, taskName, cronExpression (optional, for recurring), taskId (for cancel), correlationId (optional)"

  SYSTEM_INDEX_LINK_TOOL:
    plannerDescription: "Index verified safe link into RAG"
    description: "Index safe link into RAG. Use AFTER determining link is safe (docs, articles, product pages). SKIPS safety checks - only use after manual verification. Parameters: url (required), reason (why safe), sourceType (optional, defaults to URL)"

  # ═══════════════════════════════════════════════════════════════════
  # INTERNAL/SYSTEM TOOLS
  # ═══════════════════════════════════════════════════════════════════

  CREATE_PENDING_TASK_TOOL:
    plannerDescription: "Create background analysis task for bugs/anomalies"
    description: "Create pending task for background analysis. Use when discovering anomalies, bugs, issues requiring focused investigation. PARAMETRIC tool (NO LLM) - provide plain text description. Parameters: description (plain text)"
